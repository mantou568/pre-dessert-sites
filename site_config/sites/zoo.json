{
  "id": "zootracker",
  "name": "ZOO",
  "domain": "https://www.zootracker.vip",
  "encoding": "UTF-8",
  "public": false,
  "schema": "NexusPHP",
  "required": {
    "cookie": true,
    "sign_in": false
  },
  "meta": {
    "has_free": true,
    "has_2x_free": false,
    "has_hr": false,
    "has_cover": true
  },
  "id_cookie_name": "uid",
  "category": {
    "movie": [],
    "tv": []
  },
  "requests": {
    "favicon": {
      "parser": "None",
      "method": "GET",
      "path": "/favicon.ico"
    },
    "user_basic_info": {
      "parser": "XPath",
      "method": "GET",
      "path": "/index.php",
      "fields": {
        "is_login": {
          "selector": "//a[contains(@href,'account-logout.php')]",
          "filters": [{ "name": "not_blank" }]
        },
        "id": {
          "selector": "//a[contains(@href,'account-logout.php')]/ancestor::table[1]/parent::td//a[contains(@href,'account-details.php')]/@href",
          "filters": [{ "name": "re_search", "args": ["id=(\\d+)", 1] }]
        },
        "name": {
          "any": [
            {
              "selector": "//a[contains(@href,'account-logout.php')]/ancestor::table[1]/preceding-sibling::table[1]//td[@class='captionbar2']/b",
              "filters": [{ "name": "strip" }]
            },
            {
              "selector": "//td[@class='captionbar2']/b[following::td[contains(@class,'bodymain2') and contains(.,'Logout')]]",
              "filters": [{ "name": "strip" }]
            },
            {
              "selector": "*",
              "selection": "html",
              "filters": [{ "name": "re_search", "args": ["You are logged in as:\\s*([^<]+)", 1] }, { "name": "strip" }]
            }
          ]
        },
        "uploaded": {
          "any": [
            {
              "selector": "//a[contains(@href,'account-logout.php')]/ancestor::table[1]//td[@class='bodymain2']",
              "filters": [
                { "name": "re_search", "args": ["Uploaded:\\s*([\\d.,]+\\s*[KMGTP]?i?B)", 1] },
                { "name": "byte_size" }
              ]
            },
            {
              "selector": "*",
              "selection": "html",
              "filters": [
                { "name": "re_search", "args": ["Uploaded?[:\\s]+([\\d.,]+\\s*[KMGTP]?i?B)", 1] },
                { "name": "byte_size" }
              ]
            }
          ]
        },
        "downloaded": {
          "any": [
            {
              "selector": "//a[contains(@href,'account-logout.php')]/ancestor::table[1]//td[@class='bodymain2']",
              "filters": [
                { "name": "re_search", "args": ["Downloaded:\\s*([\\d.,]+\\s*[KMGTP]?i?B)", 1] },
                { "name": "byte_size" }
              ]
            },
            {
              "selector": "*",
              "selection": "html",
              "filters": [
                { "name": "re_search", "args": ["Downloaded?[:\\s]+([\\d.,]+\\s*[KMGTP]?i?B)", 1] },
                { "name": "byte_size" }
              ]
            }
          ]
        },
        "ratio": {
          "any": [
            {
              "selector": "//a[contains(@href,'account-logout.php')]/ancestor::table[1]//td[@class='bodymain2']",
              "filters": [
                { "name": "re_search", "args": ["Ratio:\\s*([\\d.]+|Inf\\.?)", 1] },
                { "name": "strip" },
                { "name": "replace", "args": ["Inf.", "0"] },
                { "name": "replace", "args": ["Inf", "0"] }
              ]
            },
            {
              "selector": "*",
              "selection": "html",
              "filters": [
                { "name": "re_search", "args": ["Ratio[:\\s]+([\\d.]+|Inf\\.?)", 1] },
                { "name": "strip" },
                { "name": "replace", "args": ["Inf.", "0"] },
                { "name": "replace", "args": ["Inf", "0"] }
              ]
            }
          ]
        }
      }
    },
    "user_details": {
      "parser": "XPath",
      "method": "GET",
      "path": "/account-details.php?id={userId}",
      "fields": {
        "level": {
          "selector": "//td[contains(.,'Class') or contains(.,'Rank') or contains(.,'Level')]/following-sibling::td[1]",
          "filters": [{ "name": "strip" }]
        },
        "join_at": {
          "selector": "//td[contains(.,'Join') or contains(.,'Registered') or contains(.,'Member since')]/following-sibling::td[1]//@title | //td[contains(.,'Join') or contains(.,'Registered')]/following-sibling::td[1]",
          "filters": [
            { "name": "strip" },
            { "name": "re_search", "args": ["(\\d{4}-\\d{2}-\\d{2}[T ]\\d{2}:\\d{2}:\\d{2}|\\d{2}/\\d{2}/\\d{4})", 1] },
            { "name": "timestamp", "args": ["2006-01-02 15:04:05", "2006-01-02T15:04:05", "02/01/2006"] }
          ]
        },
        "last_accessed": {
          "selector": "//td[contains(.,'Last seen') or contains(.,'Last active') or contains(.,'Last visit')]/following-sibling::td[1]//@title | //td[contains(.,'Last seen') or contains(.,'Last active')]/following-sibling::td[1]",
          "filters": [
            { "name": "strip" },
            { "name": "re_search", "args": ["(\\d{4}-\\d{2}-\\d{2}[T ]\\d{2}:\\d{2}:\\d{2}|\\d{2}/\\d{2}/\\d{4})", 1] },
            { "name": "timestamp", "args": ["2006-01-02 15:04:05", "2006-01-02T15:04:05", "02/01/2006"] }
          ]
        }
      }
    },
    "search": {
      "path": "/torrents-search.php",
      "params": {
        "search": ["{keyword}"],
        "cat": ["0"],
        "incldead": ["0"],
        "freeleech": ["0"],
        "lang": ["0"]
      }
    }
  }
}
