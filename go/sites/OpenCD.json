{
  "id": "OpenCD",
  "name": "皇后",
  "domain": "https://www.open.cd",
  "public": false,
  "schema": "opencd",
  "reuse_schema": "NexusPHP",
  "required": {
    "cookie": true,
    "sign_in": true
  },
  "meta": {
    "has_free": true,
    "has_2x_free": true,
    "has_hr": true,
    "has_cover": false
  },
  "category": {
    "music": [
      {
        "id": 408,
        "cat": "Music",
        "desc": "Music/音乐"
      }
    ],
    "movie": [
      {
        "id": 401,
        "cat": "Movies",
        "desc": "Movies/电影"
      }
    ],
    "tv": [
      {
        "id": 404,
        "cat": "TV/Documentary",
        "desc": "Documentaries/纪录片"
      },
      {
        "id": 405,
        "cat": "TV/Anime",
        "desc": "Animations/动漫"
      },
      {
        "id": 402,
        "cat": "TV",
        "desc": "TV Series/连续剧"
      },
      {
        "id": 403,
        "cat": "TV",
        "desc": "TV Shows/综艺"
      }
    ]
  },
  "requests": {
    "user_basic_info": {
      "fields": {
        "signed_in": {
          "selector": "*",
          "selection": "html",
          "filters": [
            {
              "name": "regex",
              "args": "查看簽到記錄"
            }
          ]
        }
      }
    },
    "sign_in_page": {
      "parser": "None",
      "method": "GET",
      "path": "/plugin_sign-in.php",
      "disabled_extends": {
        "params": true
      }
    },
    "image": {
      "parser": "None",
      "disabled_extends": {
        "params": true
      }
    },
    "sign_in_action": {
      "parser": "JsonPath",
      "method": "POST",
      "path": "/plugin_sign-in.php?cmd=signin",
      "disabled_extends": {
        "params": true
      },
      "fields": {
        "success": {},
        "message": {}
      },
      "headers": {
        "Content-Type": "application/x-www-form-urlencoded"
      }
    },
    "search": {
      "parser": "CssSelector",
      "method": "GET",
      "path": "/torrents.php",
      "params": {
        "search": [
          "{keyword}"
        ]
      },
      "list": {
        "selector": "table.torrents tr:has(table.torrentname)"
      },
      "fields": {
        "hr_days":{
          "filters": [
            {
              "name": "constant",
              "args": "3"
            }
          ]
        },
        "id": {
          "selector": "a[href*='details.php?id=']",
          "attribute": "href",
          "filters": [
            {
              "name": "re_search",
              "args": [
                "\\d+",
                0
              ]
            }
          ]
        },
        "category": {
          "selector": "a[href*='?cat=']",
          "attribute": "href",
          "filters": [
            {
              "name": "re_search",
              "args": [
                "cat=(.*)",
                1
              ]
            }
          ]
        },
        "cover": {
          "selector": "td:nth-child(1) > img",
          "attribute": "data-src"
        },
        "title": {
          "any": [
            {
              "selector": "a[title][href*='details.php?id=']",
              "attribute": "title"
            },
            {
              "selector": "a[href*='details.php?id=']"
            }
          ]
        },
        "details": {
          "selector": "a[href*='details.php?id=']",
          "attribute": "href"
        },
        "download": {
          "selector": "a[href*='download.php?id=']",
          "attribute": "href"
        },
        "size": {
          "selector": "td:nth-child(7):not(.embedded)",
          "filters": [
            {
              "name": "byte_size"
            }
          ]
        },
        "grabs": {
          "selector": "td:nth-child(10):not(.embedded)"
        },
        "seeders": {
          "selector": "td:nth-child(8):not(.embedded)"
        },
        "leechers": {
          "selector": "td:nth-child(9):not(.embedded)"
        },
        "date_added": {
          "selector": "td:nth-child(6):not(.embedded) > span",
          "attribute": "title",
          "filters": [
            {
              "name": "timestamp"
            }
          ]
        },
        "downloadvolumefactor": {
          "any": [
            {
              "selector": "img.pro_free,img.pro_free2up",
              "attribute": "class",
              "filters": [
                {
                  "name": "not_blank",
                  "args": [
                    0,
                    ""
                  ]
                }
              ]
            },
            {
              "selector": "img.pro_50pctdown,img.pro_50pctdown2up",
              "attribute": "class",
              "filters": [
                {
                  "name": "not_blank",
                  "args": [
                    0.5,
                    ""
                  ]
                }
              ]
            },
            {
              "selector": "img.pro_30pctdown",
              "attribute": "class",
              "filters": [
                {
                  "name": "not_blank",
                  "args": [
                    0.3,
                    1
                  ]
                }
              ]
            }
          ]
        },
        "uploadvolumefactor": {
          "any": [
            {
              "selector": "img.pro_50pctdown2up,img.pro_free2up,img.pro_2up",
              "attribute": "class",
              "filters": [
                {
                  "name": "not_blank",
                  "args": [
                    2,
                    1
                  ]
                }
              ]
            }
          ]
        },
        "description": {
          "selector": "td:nth-child(2) > table > tbody > tr > td:nth-child(2)",
          "remove": "span,a,img,font,b",
          "filters": [
            {
              "name": "split",
              "args": [
                "\n",
                -1
              ]
            }
          ]
        },
        "labels": {
          "selector": "td:nth-child(2) > span[title='']",
          "array": true
        }
      }
    },
    "seeding_statistics": {
      "fields": {
        "size": {
          "selector": "/td[3]",
          "filters": [
            {
              "name": "byte_size"
            }
          ]
        }
      }
    }
  }
}